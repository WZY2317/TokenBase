# æ•°æ®åº“ä»£ç æ¸…å•

## æ ¸å¿ƒæ–‡ä»¶ï¼ˆå¿…éœ€ï¼‰

### SQL æ–‡ä»¶ï¼ˆ4ä¸ªï¼‰
- [x] `core/01_tables_schema.sql` (31K)
  - 10 ä¸ªè¡¨çš„åˆ›å»ºè¯­å¥
  - è‡ªåŠ¨å¯¼å‡ºï¼Œå®šæ—¶æ›´æ–°æ—¶å¯é‡æ–°å¯¼å‡º

- [x] `core/02_unified_trading_info_view.sql` (19K)
  - v_unified_trading_infoï¼ˆé•¿æ ¼å¼ï¼‰
  - v_unified_trading_info_wideï¼ˆå®½æ ¼å¼ï¼‰
  - **æ‰‹åŠ¨ç»´æŠ¤**ï¼ŒåŒ…å«æ•°é‡å­—æ®µæ ‡å‡†åŒ–é€»è¾‘

- [x] `core/03_raw_data_view.sql` (7.6K)
  - v_raw_dataï¼ˆåŸå§‹æ•°æ®ï¼‰
  - **æ‰‹åŠ¨ç»´æŠ¤**

- [x] `core/04_compare_params_function.sql` (5.1K)
  - compare_exchange_params() å‡½æ•°
  - **æ‰‹åŠ¨ç»´æŠ¤**

### è„šæœ¬æ–‡ä»¶ï¼ˆ3ä¸ªï¼‰
- [x] `init_database.sh`
  - å…¨æ–°æ•°æ®åº“åˆå§‹åŒ–
  - ä½¿ç”¨ï¼š`./init_database.sh`

- [x] `update_views.sh`
  - æ›´æ–°è§†å›¾å®šä¹‰
  - ä½¿ç”¨ï¼š`./update_views.sh`

- [x] `export_schema.sh`
  - å¯¼å‡ºæ•°æ®åº“ç»“æ„å¤‡ä»½
  - ä½¿ç”¨ï¼š`./export_schema.sh`

### æ–‡æ¡£æ–‡ä»¶ï¼ˆ3ä¸ªï¼‰
- [x] `readme.md`
  - å®Œæ•´è¯´æ˜æ–‡æ¡£

- [x] `quickref.md`
  - å¿«é€Ÿå‚è€ƒå¡ç‰‡

- [x] `docs/views_guide.md`
  - è§†å›¾ä½¿ç”¨æŒ‡å—

---

## å¤‡ä»½æ–‡ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰

- [ ] `backup/tables_schema.sql` (17K)
- [ ] `backup/views_schema.sql` (17K)
- [ ] `backup/functions_schema.sql` (3.6K)

---

## æ•°æ®åº“å¯¹è±¡æ¸…å•

### è¡¨ï¼ˆ10ä¸ªï¼‰
- [x] xt_perpetual
- [x] binance_perpetual
- [x] okx_perpetual
- [x] bybit_perpetual
- [x] gate_perpetual
- [x] kucoin_perpetual
- [x] mexc_perpetual
- [x] pair_mappingsï¼ˆæ—§ï¼‰
- [x] fuzzy_pair_mappingsï¼ˆæ—§ï¼‰
- [x] unified_pair_mappingsï¼ˆæ–°ï¼Œæ¨èï¼‰âœ¨

### è§†å›¾ï¼ˆ3ä¸ªï¼‰
- [x] v_unified_trading_infoï¼ˆé•¿æ ¼å¼ï¼‰
- [x] v_unified_trading_info_wideï¼ˆå®½æ ¼å¼ï¼‰
- [x] v_raw_dataï¼ˆåŸå§‹æ•°æ®ï¼‰

### å‡½æ•°ï¼ˆ1ä¸ªï¼‰
- [x] compare_exchange_params()

---

## ä½¿ç”¨æ£€æŸ¥æ¸…å•

### åˆæ¬¡ä½¿ç”¨
- [ ] è¿è¡Œ `./init_database.sh` åˆå§‹åŒ–æ•°æ®åº“
- [ ] éªŒè¯è¡¨å·²åˆ›å»ºï¼š`psql -d perpetual_contracts_raw -c "\dt"`
- [ ] éªŒè¯è§†å›¾å·²åˆ›å»ºï¼š`psql -d perpetual_contracts_raw -c "\dv"`
- [ ] è¿è¡Œæµ‹è¯•æŸ¥è¯¢éªŒè¯è§†å›¾å·¥ä½œæ­£å¸¸

### å®šæ—¶æ›´æ–°
- [ ] Python è„šæœ¬å®šæ—¶æŠ“å–æ•°æ®å¹¶å†™å…¥è¡¨
- [ ] è§†å›¾è‡ªåŠ¨åŸºäºè¡¨æ•°æ®æ›´æ–°ï¼ˆæ— éœ€æ‰‹åŠ¨æ“ä½œï¼‰
- [ ] å¦‚æœä¿®æ”¹äº†è§†å›¾ SQL æ–‡ä»¶ï¼Œè¿è¡Œ `./update_views.sh`

### å¤‡ä»½
- [ ] å®šæœŸè¿è¡Œ `./export_schema.sh` å¯¼å‡ºç»“æ„
- [ ] å°† `backup/` ç›®å½•ä¸‹çš„æ–‡ä»¶æäº¤åˆ° git

---

## æ•°é‡å­—æ®µæ ‡å‡†åŒ–çŠ¶æ€

- [x] XTï¼šå¼ æ•° â†’ å¸æœ¬ä½ï¼ˆå·²æ ‡å‡†åŒ–ï¼‰
- [x] Binanceï¼šå¸æœ¬ä½ï¼ˆæ— éœ€æ¢ç®—ï¼‰
- [x] OKXï¼šå¼ æ•° â†’ å¸æœ¬ä½ï¼ˆå·²æ ‡å‡†åŒ–ï¼‰âœ…
- [x] Bybitï¼šå¸æœ¬ä½ï¼ˆæ— éœ€æ¢ç®—ï¼‰
- [x] Gateï¼šå¼ æ•° â†’ å¸æœ¬ä½ï¼ˆå·²æ ‡å‡†åŒ–ï¼‰âœ…
- [x] KuCoinï¼šå¸æœ¬ä½ï¼ˆæ— éœ€æ¢ç®—ï¼‰
- [x] MEXCï¼šå¼ æ•° â†’ å¸æœ¬ä½ï¼ˆå·²æ ‡å‡†åŒ–ï¼‰âœ…

æ‰€æœ‰è§†å›¾è¿”å›çš„æ•°é‡å­—æ®µç°åœ¨éƒ½æ˜¯å¸æœ¬ä½ï¼Œå¯ä»¥ç›´æ¥æ¯”è¾ƒï¼

---

## é‡è¦æé†’

âš ï¸ **æ ¸å¿ƒ SQL æ–‡ä»¶éœ€è¦æ‰‹åŠ¨ç»´æŠ¤**ï¼š
- å¦‚æœäº¤æ˜“æ‰€å¢åŠ æ–°å­—æ®µï¼Œéœ€è¦æ›´æ–°è§†å›¾ SQL
- å¦‚æœæ¢ç®—é€»è¾‘æœ‰å˜åŒ–ï¼Œéœ€è¦æ›´æ–°è§†å›¾ SQL
- ä¿®æ”¹åè¿è¡Œ `./update_views.sh` åº”ç”¨æ›´æ”¹

âœ… **è¡¨ç»“æ„å¯ä»¥è‡ªåŠ¨å¯¼å‡º**ï¼š
- ä½¿ç”¨ `./export_schema.sh` é‡æ–°å¯¼å‡º
- æˆ–æ‰‹åŠ¨è¿è¡Œ `pg_dump` å‘½ä»¤

ğŸ“ **å®šæ—¶ä»»åŠ¡å»ºè®®**ï¼š
- æ¯å¤©å®šæ—¶è¿è¡Œæ•°æ®é‡‡é›†è„šæœ¬æ›´æ–°è¡¨æ•°æ®
- è§†å›¾ä¼šè‡ªåŠ¨åˆ·æ–°ï¼Œæ— éœ€é¢å¤–æ“ä½œ
- æ¯å‘¨è¿è¡Œ `./export_schema.sh` å¤‡ä»½ç»“æ„
